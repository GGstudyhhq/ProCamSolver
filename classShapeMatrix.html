<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ProCamSolver: ShapeMatrix Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ShapeMatrix Class Reference</h1><!-- doxytag: class="ShapeMatrix" --><code>#include &lt;<a class="el" href="ShapeMatrix_8h-source.html">ShapeMatrix.h</a>&gt;</code>
<p>

<p>
<a href="classShapeMatrix-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;int V&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classShapeMatrix.html#5f265d5a7cefa476b808613e605a8e86">solve</a> (const <a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>&lt; V &gt; &amp;, const <a class="el" href="classMotionMatrix.html">MotionMatrix</a>&lt; V &gt; &amp;)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2"><a class="anchor" name="b166609ab320f5e4f1b68eb66fba3d5c"></a><!-- doxytag: member="ShapeMatrix::operator=" ref="b166609ab320f5e4f1b68eb66fba3d5c" args="(const Eigen::MatrixBase&lt; D &gt; &amp;)" -->
template&lt;class D&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top"><a class="el" href="classShapeMatrix.html">ShapeMatrix</a> &amp;&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>operator=</b> (const Eigen::MatrixBase&lt; D &gt; &amp;)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class to represent the homogeneous coordinates of a set of 3D points <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="5f265d5a7cefa476b808613e605a8e86"></a><!-- doxytag: member="ShapeMatrix::solve" ref="5f265d5a7cefa476b808613e605a8e86" args="(const MeasurementMatrix&lt; V &gt; &amp;, const MotionMatrix&lt; V &gt; &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int V&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void ShapeMatrix::solve           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>&lt; V &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMotionMatrix.html">MotionMatrix</a>&lt; V &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>P</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets *this to the shape that minimises the reprojection error for a given motion matrix and (un-scaled, occluded) measurement matrix. Works in two stages. For each column in the measurement matrix: 1) Approximate the projective depths by least squares fitting (P_n0:1 - pi_n0:1P_n2)X = 0 then setting lambda_n = P_n2X 2) Do least squares fit of lambda_n^-1(P_n0:1 - pi_n0:1P_n2)X = 0, for 0 &lt;= n &lt; M<p>
The result is not the exact minimum reprojection since the initial guess at lambda does not minimise error. The result is that the errors of different views will have slightly differing weights. However, the difference will be very small indeed. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ShapeMatrix_8h-source.html">ShapeMatrix.h</a><li><a class="el" href="ShapeMatrix_8hpp-source.html">ShapeMatrix.hpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jun 25 17:45:15 2012 for ProCamSolver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
