<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ProCamSolver: SturmTriggsSolver&lt; M &gt; Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>SturmTriggsSolver&lt; M &gt; Class Template Reference</h1><!-- doxytag: class="SturmTriggsSolver" --><code>#include &lt;<a class="el" href="SturmTriggsSolver_8h-source.html">SturmTriggsSolver.h</a>&gt;</code>
<p>

<p>
<a href="classSturmTriggsSolver-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c920708914b8c4e728e25d62116f55b4"></a><!-- doxytag: member="SturmTriggsSolver::SturmTriggsSolver" ref="c920708914b8c4e728e25d62116f55b4" args="(MotionMatrix&lt; M &gt; &amp;, ShapeMatrix &amp;)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>SturmTriggsSolver</b> (<a class="el" href="classMotionMatrix.html">MotionMatrix</a>&lt; M &gt; &amp;, <a class="el" href="classShapeMatrix.html">ShapeMatrix</a> &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSturmTriggsSolver.html#7d1e22875ff501d95284b0c06d35db11">solve</a> (const <a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>&lt; M &gt; &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSturmTriggsSolver.html#bd1678a4d28abf421a146291d2e1421b">approx_scale</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSturmTriggsSolver.html#28757549771eb8cf6bd611293a9748b2">factorise_with_occlusions</a> (<a class="el" href="classMotionMatrix.html">MotionMatrix</a>&lt; M &gt; &amp;, <a class="el" href="classShapeMatrix.html">ShapeMatrix</a> &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSturmTriggsSolver.html#f9c8874c96e7189a154cef6bae5c60bc">create_connectivity_graph</a> (Eigen::Matrix&lt; double, M, M &gt; &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="63d074dc50887440a4bff598a811ec74"></a><!-- doxytag: member="SturmTriggsSolver::form_subspace" ref="63d074dc50887440a4bff598a811ec74" args="(std::vector&lt; int &gt;::iterator, MeasurementMatrix&lt; M &gt; &amp;)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>form_subspace</b> (std::vector&lt; int &gt;::iterator, <a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>&lt; M &gt; &amp;)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSturmTriggsSolver.html#1d01bcc1c1ef42701620a90e4b3a3290">random_permute</a> (std::vector&lt; int &gt; &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSturmTriggsSolver.html#1e4d064b50910113954e779a2bb1ea5f">set_measurement_matrix</a> (const <a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>&lt; M &gt; &amp;)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3251779956661d31943a5653b74676b5"></a><!-- doxytag: member="SturmTriggsSolver::measurement" ref="3251779956661d31943a5653b74676b5" args="" -->
<a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>&lt; M &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>measurement</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ba52d84d975967096330753ed00220f6"></a><!-- doxytag: member="SturmTriggsSolver::motion" ref="ba52d84d975967096330753ed00220f6" args="" -->
<a class="el" href="classMotionMatrix.html">MotionMatrix</a>&lt; M &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>motion</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8495b3839b94b3bcb158191cdfb1f3a4"></a><!-- doxytag: member="SturmTriggsSolver::shape" ref="8495b3839b94b3bcb158191cdfb1f3a4" args="" -->
<a class="el" href="classShapeMatrix.html">ShapeMatrix</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>shape</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="056f697da786c36de9a90257a837b7f9"></a><!-- doxytag: member="SturmTriggsSolver::spanning_tree" ref="056f697da786c36de9a90257a837b7f9" args="" -->
Eigen::Matrix&lt; int, M, 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>spanning_tree</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="249092bb4d050c00b9b453e34732842b"></a><!-- doxytag: member="SturmTriggsSolver::tree_traversal" ref="249092bb4d050c00b9b453e34732842b" args="" -->
Eigen::Matrix&lt; int, M, 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>tree_traversal</b></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><b>colCompare</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;int M&gt;<br>
 class SturmTriggsSolver&lt; M &gt;</h3>

Implementation of the algorithm described in Sturm and Triggs (1996) which approximates the shape and motion matrices for any number of cameras from a measurement matrix containing a set of pixel correspondences.<p>
This is a very fast solver, but the result does not minimise the reprojection error, instead it minimises the Frobenius norm of the error in the weighted measurement matrix. Also, the resulting motion matrix is not guaranteed to be liftable to a Euclidean form. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="7d1e22875ff501d95284b0c06d35db11"></a><!-- doxytag: member="SturmTriggsSolver::solve" ref="7d1e22875ff501d95284b0c06d35db11" args="(const MeasurementMatrix&lt; M &gt; &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSturmTriggsSolver.html">SturmTriggsSolver</a>&lt; M &gt;::solve           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>&lt; M &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>E</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Approximately factorises the supplied measurement matrix into shape and motion matrices. The results are put into the motion and shape matrices supplied at construction. 
</div>
</div><p>
<a class="anchor" name="bd1678a4d28abf421a146291d2e1421b"></a><!-- doxytag: member="SturmTriggsSolver::approx_scale" ref="bd1678a4d28abf421a146291d2e1421b" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSturmTriggsSolver.html">SturmTriggsSolver</a>&lt; M &gt;::approx_scale           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Approximates the scaling of '*this' by forming the fundamental matrices, as described in Sturm and Triggs (1996). The views are ordered by the minimum depth spanning tree of the connectivity graph. Unscaled pixels have their scale set to -0.0 
</div>
</div><p>
<a class="anchor" name="28757549771eb8cf6bd611293a9748b2"></a><!-- doxytag: member="SturmTriggsSolver::factorise_with_occlusions" ref="28757549771eb8cf6bd611293a9748b2" args="(MotionMatrix&lt; M &gt; &amp;, ShapeMatrix &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSturmTriggsSolver.html">SturmTriggsSolver</a>&lt; M &gt;::factorise_with_occlusions           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMotionMatrix.html">MotionMatrix</a>&lt; M &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>motion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classShapeMatrix.html">ShapeMatrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>shape</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds an approximate factorisation of the occluded measurement matrix by forming a subspace of possible motion matrices, as described in Martinec and Pajdla (2002). Once the motion matrix is constrained, the shape that minimises reprojection error is calculated. 
</div>
</div><p>
<a class="anchor" name="f9c8874c96e7189a154cef6bae5c60bc"></a><!-- doxytag: member="SturmTriggsSolver::create_connectivity_graph" ref="f9c8874c96e7189a154cef6bae5c60bc" args="(Eigen::Matrix&lt; double, M, M &gt; &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSturmTriggsSolver.html">SturmTriggsSolver</a>&lt; M &gt;::create_connectivity_graph           </td>
          <td>(</td>
          <td class="paramtype">Eigen::Matrix&lt; double, M, M &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>G</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets G to the graph whose vertices represent views and whose edge weights are a measure of the expected error in the fundamental matrix between views. G is in the form of an adjacency matrix. 
</div>
</div><p>
<a class="anchor" name="1d01bcc1c1ef42701620a90e4b3a3290"></a><!-- doxytag: member="SturmTriggsSolver::random_permute" ref="1d01bcc1c1ef42701620a90e4b3a3290" args="(std::vector&lt; int &gt; &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSturmTriggsSolver.html">SturmTriggsSolver</a>&lt; M &gt;::random_permute           </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Randomly permutes the elements of p 
</div>
</div><p>
<a class="anchor" name="1e4d064b50910113954e779a2bb1ea5f"></a><!-- doxytag: member="SturmTriggsSolver::set_measurement_matrix" ref="1e4d064b50910113954e779a2bb1ea5f" args="(const MeasurementMatrix&lt; M &gt; &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSturmTriggsSolver.html">SturmTriggsSolver</a>&lt; M &gt;::set_measurement_matrix           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>&lt; M &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>E</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Takes a copy of the measurement matrix and builds a spanning tree of views 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="SturmTriggsSolver_8h-source.html">SturmTriggsSolver.h</a><li><a class="el" href="SturmTriggsSolver_8hpp-source.html">SturmTriggsSolver.hpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Jun 28 17:48:12 2012 for ProCamSolver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
