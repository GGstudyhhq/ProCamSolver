<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ProCamSolver: BundleAdjuster&lt; M &gt; Class Template Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>BundleAdjuster&lt; M &gt; Class Template Reference</h1><!-- doxytag: class="BundleAdjuster" --><!-- doxytag: inherits="LevMarSolver&lt; BundleAdjuster&lt; M &gt; &gt;" --><code>#include &lt;<a class="el" href="BundleAdjuster_8h-source.html">BundleAdjuster.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for BundleAdjuster&lt; M &gt;:</div>
<div class="dynsection">

<p><center><img src="classBundleAdjuster.png" usemap="#BundleAdjuster< M >_map" border="0" alt=""></center>
<map name="BundleAdjuster< M >_map">
<area href="classLevMarSolver.html" alt="LevMarSolver< BundleAdjuster< M > >" shape="rect" coords="0,0,238,24">
</map>
</div>

<p>
<a href="classBundleAdjuster-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="420f18bff6e0435d49382245abae358f"></a><!-- doxytag: member="BundleAdjuster::Base" ref="420f18bff6e0435d49382245abae358f" args="" -->
typedef <a class="el" href="classLevMarSolver.html">LevMarSolver</a><br>
&lt; <a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>Base</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="92ea3844110d6f6c371d6220944b9279"></a><!-- doxytag: member="BundleAdjuster::Matrix3d" ref="92ea3844110d6f6c371d6220944b9279" args="" -->
typedef Eigen::Matrix3d&nbsp;</td><td class="memItemRight" valign="bottom"><b>Matrix3d</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="70f6dfe9641e9c6e9b5524ad06c57167"></a><!-- doxytag: member="BundleAdjuster::Block3" ref="70f6dfe9641e9c6e9b5524ad06c57167" args="" -->
typedef Eigen::Block<br>
&lt; Eigen::VectorXd, 3, 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>Block3</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b0ea556a93cd9dea41afbdd31a6feb05"></a><!-- doxytag: member="BundleAdjuster::Block2" ref="b0ea556a93cd9dea41afbdd31a6feb05" args="" -->
typedef Eigen::Block<br>
&lt; Eigen::VectorXd, 2, 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>Block2</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8fabb0b01f61093e53c34250b23c4226"></a><!-- doxytag: member="BundleAdjuster::constBlock3" ref="8fabb0b01f61093e53c34250b23c4226" args="" -->
typedef Eigen::Block&lt; const <br>
Eigen::VectorXd, 3, 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>constBlock3</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="93481406d29a6de2507950da30e69f7d"></a><!-- doxytag: member="BundleAdjuster::constBlock2" ref="93481406d29a6de2507950da30e69f7d" args="" -->
typedef Eigen::Block&lt; const <br>
Eigen::VectorXd, 2, 1 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>constBlock2</b></td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBundleAdjuster.html#367ee9ed6825b93708454e8d4fbe970e">BundleAdjuster</a> (const <a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>&lt; M &gt; &amp;, <a class="el" href="classMotionMatrix.html">MotionMatrix</a>&lt; M &gt; &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBundleAdjuster.html#82fe6fac4bb059d1d8930a48650c597c">levmar_solve</a> (int)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="87339d00e779995e21d7cee36310a648"></a><!-- doxytag: member="BundleAdjuster::translation" ref="87339d00e779995e21d7cee36310a648" args="(int, const Eigen::VectorXd &amp;)" -->
constBlock3&nbsp;</td><td class="memItemRight" valign="bottom"><b>translation</b> (int, const Eigen::VectorXd &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ea5a75222b4f529da01789c9649241ba"></a><!-- doxytag: member="BundleAdjuster::principal_pt" ref="ea5a75222b4f529da01789c9649241ba" args="(int, const Eigen::VectorXd &amp;)" -->
constBlock2&nbsp;</td><td class="memItemRight" valign="bottom"><b>principal_pt</b> (int, const Eigen::VectorXd &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8f3aa4d66f2045dd39e2e399951b13c9"></a><!-- doxytag: member="BundleAdjuster::focal_len" ref="8f3aa4d66f2045dd39e2e399951b13c9" args="(int, const Eigen::VectorXd &amp;)" -->
const double &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>focal_len</b> (int, const Eigen::VectorXd &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b3192bc10a9e6f651798ed48d766a410"></a><!-- doxytag: member="BundleAdjuster::rotation" ref="b3192bc10a9e6f651798ed48d766a410" args="(int, const Eigen::VectorXd &amp;)" -->
constBlock3&nbsp;</td><td class="memItemRight" valign="bottom"><b>rotation</b> (int, const Eigen::VectorXd &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Block3&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBundleAdjuster.html#916811de1fb77203215641f97eabeab9">translation</a> (int, Eigen::VectorXd &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Block2&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBundleAdjuster.html#0b217b5daecb55001f243ef6859d30b2">principal_pt</a> (int, Eigen::VectorXd &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBundleAdjuster.html#ade0ae350d91ef5fb9c95a66828bb062">focal_len</a> (int, Eigen::VectorXd &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Block3&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBundleAdjuster.html#037e818cd87f5644226d2eadddee22ee">rotation</a> (int, Eigen::VectorXd &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Eigen::AngleAxisd&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBundleAdjuster.html#abda870c5a5dc29e635a804cafa23a70">rotation_to_angleaxis</a> (constBlock3)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Eigen::Vector3d&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBundleAdjuster.html#bba2ac087f339446c056cce158c6924d">angleaxis_to_rotation</a> (const Eigen::AngleAxisd &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBundleAdjuster.html#a296d02a37969bb0e681a372c336404b">operator()</a> (const Eigen::VectorXd &amp;, Eigen::VectorXd &amp;)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="340e16d51d781cbc1b3474e69585e8c2"></a><!-- doxytag: member="BundleAdjuster::params_to_matrices" ref="340e16d51d781cbc1b3474e69585e8c2" args="(const Eigen::VectorXd &amp;)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>params_to_matrices</b> (const Eigen::VectorXd &amp;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBundleAdjuster.html#8e4fffa6691c74eb6a5803d16d149928">matrices_to_params</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c4e201925eea91a835ae5eb38f03aef1"></a><!-- doxytag: member="BundleAdjuster::variableParams" ref="c4e201925eea91a835ae5eb38f03aef1" args="" -->
Eigen::VectorXd&nbsp;</td><td class="memItemRight" valign="bottom"><b>variableParams</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cd2093fcf3f8f8c7bb879a63f1e4f01e"></a><!-- doxytag: member="BundleAdjuster::fixedIntrinsics" ref="cd2093fcf3f8f8c7bb879a63f1e4f01e" args="" -->
std::vector&lt; Eigen::Affine2d &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>fixedIntrinsics</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ce36f08a250dc25a27f5a65dcf2d27db"></a><!-- doxytag: member="BundleAdjuster::measurement" ref="ce36f08a250dc25a27f5a65dcf2d27db" args="" -->
const <a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>&lt; M &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>measurement</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5803b66597106ed6f7714e4e5c2b4331"></a><!-- doxytag: member="BundleAdjuster::motion" ref="5803b66597106ed6f7714e4e5c2b4331" args="" -->
<a class="el" href="classMotionMatrix.html">MotionMatrix</a>&lt; M &gt; &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>motion</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;int M&gt;<br>
 class BundleAdjuster&lt; M &gt;</h3>

This class finds the <a class="el" href="classMotionMatrix.html">MotionMatrix</a> that gives the least-squares reprojection error compared to a given <a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>. It uses the Levenberg-Marquardt method to perform bundle adjustment. If any camera intrinsic matrices are already known, these can be held fixed.<p>
This uses Eigen's Levenberg-Marquardt module. Since this doesn't account for sparse Jacobians it would be impractical to include the shape matrix as an independent variable. However, the shape matrix that minimises reprojection can be calculated very quickly given the motion matrix, so here we take the Euclidean motion matrix as the only ndependent variable and calculate the shape on the fly.<p>
This isn't as fast as a full sparse Lev-Mar implementation, but is nevertheless a reasonably fast way to do full bundle adjustment without the need for a sparse Lev-Mar solver. <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="367ee9ed6825b93708454e8d4fbe970e"></a><!-- doxytag: member="BundleAdjuster::BundleAdjuster" ref="367ee9ed6825b93708454e8d4fbe970e" args="(const MeasurementMatrix&lt; M &gt; &amp;, MotionMatrix&lt; M &gt; &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::<a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMeasurementMatrix.html">MeasurementMatrix</a>&lt; M &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>E</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMotionMatrix.html">MotionMatrix</a>&lt; M &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>P</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct with an unweighted measurement matrix and a motion matrix that is to hold the solution. 
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="82fe6fac4bb059d1d8930a48650c597c"></a><!-- doxytag: member="BundleAdjuster::levmar_solve" ref="82fe6fac4bb059d1d8930a48650c597c" args="(int)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::levmar_solve           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nFixedIntrinsics</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Uses the Levenberg-Marquardt algorithm to solve for the measurement matrix supplied at construction, holding the intrinsics of the first 'nFixedIntrinsics' views fixed. The result is placed into the motion matrix supplied at construction.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The exit status of the LevMar solver:</dd></dl>
ImproperInputParameters = 0, RelativeReductionTooSmall = 1, RelativeErrorTooSmall = 2, RelativeErrorAndReductionTooSmall = 3, CosinusTooSmall = 4, TooManyFunctionEvaluation = 5, FtolTooSmall = 6, XtolTooSmall = 7, GtolTooSmall = 8 
</div>
</div><p>
<a class="anchor" name="916811de1fb77203215641f97eabeab9"></a><!-- doxytag: member="BundleAdjuster::translation" ref="916811de1fb77203215641f97eabeab9" args="(int, Eigen::VectorXd &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::Block3 <a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::translation           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns the translation of the v'th view in 'params'. 
</div>
</div><p>
<a class="anchor" name="0b217b5daecb55001f243ef6859d30b2"></a><!-- doxytag: member="BundleAdjuster::principal_pt" ref="0b217b5daecb55001f243ef6859d30b2" args="(int, Eigen::VectorXd &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::Block2 <a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::principal_pt           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns the principal point of the v'th view in 'params'. 
</div>
</div><p>
<a class="anchor" name="ade0ae350d91ef5fb9c95a66828bb062"></a><!-- doxytag: member="BundleAdjuster::focal_len" ref="ade0ae350d91ef5fb9c95a66828bb062" args="(int, Eigen::VectorXd &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double &amp; <a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::focal_len           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns the focal length of the v'th view in 'params'. 
</div>
</div><p>
<a class="anchor" name="037e818cd87f5644226d2eadddee22ee"></a><!-- doxytag: member="BundleAdjuster::rotation" ref="037e818cd87f5644226d2eadddee22ee" args="(int, Eigen::VectorXd &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::Block3 <a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::rotation           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
returns the rotation of the v'th view in 'params'. 
</div>
</div><p>
<a class="anchor" name="abda870c5a5dc29e635a804cafa23a70"></a><!-- doxytag: member="BundleAdjuster::rotation_to_angleaxis" ref="abda870c5a5dc29e635a804cafa23a70" args="(constBlock3)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Eigen::AngleAxisd <a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::rotation_to_angleaxis           </td>
          <td>(</td>
          <td class="paramtype">constBlock3&nbsp;</td>
          <td class="paramname"> <em>rot</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Converts a rotation stored as 3 angles into an AngleAxis.<p>
If the rotation angles are (theta, psi, phi) and the AngleAxis is (a,v0,v1,v2) then<p>
a = theta v0 = cos(psi)cos(phi) v1 = sin(psi)cos(phi) v2 = sin(phi) 
</div>
</div><p>
<a class="anchor" name="bba2ac087f339446c056cce158c6924d"></a><!-- doxytag: member="BundleAdjuster::angleaxis_to_rotation" ref="bba2ac087f339446c056cce158c6924d" args="(const Eigen::AngleAxisd &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3d <a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::angleaxis_to_rotation           </td>
          <td>(</td>
          <td class="paramtype">const Eigen::AngleAxisd &amp;&nbsp;</td>
          <td class="paramname"> <em>A</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Converts an AngleAxis into three angles<p>
If the rotation angles are (theta, psi, phi) and the AngleAxis is (a,v0,v1,v2) then<p>
a = theta v0 = cos(psi)cos(phi) v1 = sin(psi)cos(phi) v2 = sin(phi) 
</div>
</div><p>
<a class="anchor" name="a296d02a37969bb0e681a372c336404b"></a><!-- doxytag: member="BundleAdjuster::operator()" ref="a296d02a37969bb0e681a372c336404b" args="(const Eigen::VectorXd &amp;, Eigen::VectorXd &amp;)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::operator()           </td>
          <td>(</td>
          <td class="paramtype">const Eigen::VectorXd &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Eigen::VectorXd &amp;&nbsp;</td>
          <td class="paramname"> <em>errs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates the reprojection error for a given set of parameters. Called by the Lev-Mar solving algorithm.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>params</em>&nbsp;</td><td>The parameters holding the camera intrinsics/extrinsics </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>errs</em>&nbsp;</td><td>The repreojection errors </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Zero, not clear in the Eigen documentation what this should be, but looking at the code, this should always be zero. </dd></dl>

</div>
</div><p>
<a class="anchor" name="8e4fffa6691c74eb6a5803d16d149928"></a><!-- doxytag: member="BundleAdjuster::matrices_to_params" ref="8e4fffa6691c74eb6a5803d16d149928" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int M&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBundleAdjuster.html">BundleAdjuster</a>&lt; M &gt;::matrices_to_params           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copies the motion matrix to the internal parameters. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="BundleAdjuster_8h-source.html">BundleAdjuster.h</a><li><a class="el" href="BundleAdjuster_8hpp-source.html">BundleAdjuster.hpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Jun 28 17:48:12 2012 for ProCamSolver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
